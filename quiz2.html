<!DOCTYPE html>
<html>
<head>
  <title>Quiz 2</title>
  <link rel="stylesheet" href="quiz.css">
</head>
<body>
  <h1>Post-Game Quiz</h1>
  <h4> This quiz is to collect data about your cyber security knowledge after playing the game </h4>
  <form id="quizForm">
    <p>Question 1: Phishing is when ...</p>
    <label><input type="radio" name="q1" value="a">a) You get a call from your bank</label>
    <label><input type="radio" name="q1" value="b">b) You receieve a message from an unknown sender</label>
    <label><input type="radio" name="q1" value="c">c) A way of fishing online</label>
    <label><input type="radio" name="q1" value="d">d) Fradulent messages are sent usually via links</label>

    <p>Question 2: Which is not a factor of strong password?</p>
    <label><input type="radio" name="q2" value="a">a) length</label>
    <label><input type="radio" name="q2" value="b">b) substitution</label>
    <label><input type="radio" name="q2" value="c">c) common information</label>
    <label><input type="radio" name="q2" value="d">d) complexity</label>
    
    <p>Question 3: Steganography is ...</p>
    <label><input type="radio" name="q3" value="a">a) A way of scrambling data with keys to conceal it </label>
    <label><input type="radio" name="q3" value="b">b) A system that protects your data from cyber attacks </label>
    <label><input type="radio" name="q3" value="c">c) A form of hiding sensitive information in plain sight</label> <br>
    <!-- <label><input type="radio" name="q3" value="d">d) Micheala</label> -->

    <p>Question 4: Which of the following is an example of steganography?</p>
    <label><input type="radio" name="q4" value="a">a) Encrypting a file before sending</label>
    <label><input type="radio" name="q4" value="b">b) Hiding a message in an image</label> 
    <label><input type="radio" name="q4" value="b">c) Scrambling a message using codes</label>    <br>
    <!-- <label><input type="radio" name="q3" value="c">c) Jane</label>
    <label><input type="radio" name="q3" value="d">d) Micheala</label> -->

    <p>Question 5: What is cyber literacy?</p>
    <label><input type="radio" name="q5" value="a">a) Knowing how to behave online</label>
    <!-- <label><input type="radio" name="q3" value="b">b) Recieveing an email that you've won a new iPhone and only need to pay for shipping </label>
    <label><input type="radio" name="q3" value="c">c) You get a call from the FBI saying your identity has been stolen</label> -->
    <label><input type="radio" name="q5" value="d">b) Taking a course online </label>
    <label><input type="radio" name="q5" value="d">c) Learning how to use computers</label> <br>


    <button type="button" onclick="calculateScore()">Finish Quiz</button>

    <div class="popup" id="popup">
      <div class="popup-content">
        <h2> Thanks for submitting! </h2>
        <p id="fs1"></p>
        <p id="fs2"></p>
        <p id="fs3"></p>
        <p id="fs4"> Thanks for playing, click the button below to submit your quiz results</p>
        <button class= "close-button"type="button" onclick="closePopup()">FINISH GAME!</button>
      </div>
    </div>

  </form>

  <script>
    function calculateScore() {
      const form = document.getElementById("quizForm");
      let score = 0;

      // Get the user's answers and calculate the score
      const q1Answer = form.elements["q1"].value;
      if (q1Answer === "d") {
        score++;
      }

      const q2Answer = form.elements["q2"].value;
      if (q2Answer === "c") {
        score++;
      }

      const q3Answer = form.elements["q3"].value;
      if (q3Answer === "c") {
        score++;
      }

      const q4Answer = form.elements["q4"].value;
      if (q4Answer === "b") {
        score++;
      }

      const q5Answer = form.elements["q5"].value;
      if (q5Answer === "a") {
        score++;
      }

      // Add other questions' score calculations here

      // Retrieve the score from the first quiz
      const quiz1Score = parseInt(localStorage.getItem("quiz1Score"));

      const popup = document.getElementById('popup');
      popup.style.display = 'block';

      document.getElementById("fs1").innerHTML = "Pre-Quiz Score: " + quiz1Score;
      document.getElementById("fs2").innerHTML = "Post-Quiz Score: " + score;
      document.getElementById("fs3").innerHTML = "You improved your Cyber Security knowledge by: " + ((score-quiz1Score) * 20)  + "%";
    }

  function closePopup() {
    // const popup = document.getElementById('popup');
    // popup.style.display = 'none';

    var url = "https://docs.google.com/forms/d/1KTkS6Di6nILHzNOLYlY90_VmU-dcTT7sa14qLus-zL4/edit";  //link to data collecton sheet
    window.open(url); 
  } 
  </script>
</body>
</html>
